<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>utf8rewind: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">utf8rewind
   &#160;<span id="projectnumber">1.4.0</span>
   </div>
   <div id="projectbrief">System library for processing UTF-8 encoded text</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Overview</span></a></li>
      <li><a href="utf8rewind_8h.html"><span>Interface</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#example">Example</a></li>
<li class="level1"><a href="#features">Features</a></li>
<li class="level1"><a href="#license">Licensing</a></li>
<li class="level1"><a href="#building">Building the project</a><ul><li class="level2"><a href="#building-windows">Building on Windows with Visual Studio</a></li>
<li class="level2"><a href="#building-linux">Building on Linux with GCC</a></li>
<li class="level2"><a href="#building-mac">Building on Mac OS X with XCode</a></li>
<li class="level2"><a href="#running-tests">Running the tests</a></li>
</ul>
</li>
<li class="level1"><a href="#helping-out">Helping out</a></li>
<li class="level1"><a href="#contact">Contact</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p><code>utf8rewind</code> is a system library written in C designed to extend the default string handling functions with support for UTF-8 encoded text.</p>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="utf8rewind_8h.html">utf8rewind.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// &quot;Ἀριστοτέλης&quot; (Aristotle) encoded in UTF-8 using hexadecimal notation</span></div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* input =</div>
<div class="line">        <span class="stringliteral">&quot;\xE1\xBC\x88\xCF\x81\xCE\xB9\xCF\x83\xCF\x84\xCE\xBF\xCF\x84&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\xCE\xAD\xCE\xBB\xCE\xB7\xCF\x82&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> output_size = 255;</div>
<div class="line">    <span class="keywordtype">char</span> output[output_size + 1];</div>
<div class="line">    <span class="keywordtype">wchar_t</span> output_wide[output_size + 1];</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* input_seek;</div>
<div class="line">    <span class="keywordtype">size_t</span> converted_size;</div>
<div class="line">    int32_t errors;</div>
<div class="line"></div>
<div class="line">    memset(output, 0, <span class="keyword">sizeof</span>(output));</div>
<div class="line">    memset(output_wide, 0, <span class="keyword">sizeof</span>(output_wide));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Convert input to uppercase:</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// &quot;Ἀριστοτέλης&quot; -&gt; &quot;ἈΡΙΣΤΟΤΈΛΗΣ&quot;</span></div>
<div class="line"></div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#ae9de7d7b0fbde81c2c2d62a9d045775e">utf8toupper</a>(input, strlen(input), output, output_size, &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != <a class="code" href="utf8rewind_8h.html#ac7f8a18ca0ca9ebb357b2e7b9c527cc3">UTF8_ERR_NONE</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Convert UTF-8 input to wide (UTF-16 or UTF-32) encoded text:</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// &quot;ἈΡΙΣΤΟΤΈΛΗΣ&quot; -&gt; L&quot;ἈΡΙΣΤΟΤΈΛΗΣ&quot;</span></div>
<div class="line"></div>
<div class="line">    converted_size = <a class="code" href="utf8rewind_8h.html#a8653854fdb4550ec3a9515ecede1f73a">utf8towide</a>(output, strlen(output), output_wide, output_size * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>), &amp;errors);</div>
<div class="line">    <span class="keywordflow">if</span> (converted_size == 0 ||</div>
<div class="line">        errors != <a class="code" href="utf8rewind_8h.html#ac7f8a18ca0ca9ebb357b2e7b9c527cc3">UTF8_ERR_NONE</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Seek in input:</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// &quot;Ἀριστοτέλης&quot; -&gt; &quot;τέλης&quot;</span></div>
<div class="line"></div>
<div class="line">    input_seek = <a class="code" href="utf8rewind_8h.html#ace07c42b3b5031414ceed1f78055242f">utf8seek</a>(input, strlen(input), input, 6, SEEK_SET);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="features"></a>
Features</h1>
<p><b>Cross-platform</b> - <code>utf8rewind</code> is written in plain C, which means it can be used on any platform with a compliant C compiler. Currently, Windows, Linux and Mac OS versions are available.</p>
<p><b>Conversion to and from UTF-8</b> - <code>utf8rewind</code> provides functions for converting to and from <a class="el" href="utf8rewind_8h.html#aedea488052a8d820af3d192485e814e8">wide</a>, <a class="el" href="utf8rewind_8h.html#a84f067fc0293c142137d308ded6f130c">UTF-16</a> and <a class="el" href="utf8rewind_8h.html#a325b2612f0a2afdacb81d5e6831bd43b">UTF-32</a> encoded text.</p>
<p><b>Case mapping</b> - The library provides functionality for converting text to <a class="el" href="utf8rewind_8h.html#ae9de7d7b0fbde81c2c2d62a9d045775e">uppercase</a>, <a class="el" href="utf8rewind_8h.html#a2b8b64b410a600e2148e0bfe8f9a15d4">lowercase</a> and <a class="el" href="utf8rewind_8h.html#a8c55b8635f998a2405aa0a5483289264">titlecase</a>.</p>
<p><b>Case folding</b> - Using <a class="el" href="utf8rewind_8h.html#af60cc918c7dec97b3472b40fbafc8900" title="Remove case distinction from UTF-8 encoded text. ">utf8casefold</a>, you can erase case distinctions in strings and compare them in a case-insensitive manner.</p>
<p><b>Normalization</b> - With <a class="el" href="utf8rewind_8h.html#adfa0210609054db368b6af9837ca69db" title="Normalize a string to the specified Unicode Normalization Form. ">utf8normalize</a>, you can normalize UTF-8 encoded text to NFC, NFD, NFKC or NFKD without converting the text to UTF-32 first.</p>
<p><b>Seeking</b> - Using <a class="el" href="utf8rewind_8h.html#ace07c42b3b5031414ceed1f78055242f" title="Seek into a UTF-8 encoded string. ">utf8seek</a>, you can seek forwards and backwards in any UTF-8 encoded strings.</p>
<p><b>Easy to integrate</b> - The library consists of only 15 public functions and requires <em>no</em> initialization. Any C or C++ project can add <code>utf8rewind</code> without breaking existing code.</p>
<p><b>Simple bindings</b> - No structs are used in the public interface, only pointers. Even if you don't use C, if the language of your choice allows bindings to C functions, you can benefit from integrating <code>utf8rewind</code> into your project.</p>
<p><b>No heap allocations</b> - All allocations in <code>utf8rewind</code> happen on the stack. <em>You</em> provide the memory, without having to override <code>malloc</code>. This makes the library perfectly tailored to game engines, integrated systems and other performance-critical or memory-constrained projects.</p>
<p><b>Safety</b> - Almost 2500 automated unit, integration, property and performance tests guarantee the safety, security and speed of the library.</p>
<p>For a full summary of the interface, please refer to the <a class="el" href="utf8rewind_8h.html">interface page</a>.</p>
<h1><a class="anchor" id="license"></a>
Licensing</h1>
<p>This project is licensed under the MIT license, a full copy of which should have been provided with the project.</p>
<h1><a class="anchor" id="building"></a>
Building the project</h1>
<p>All supported platforms use <a href="http://code.google.com/p/gyp/">GYP</a> to generate a solution. This generated solution can be used to compile the project and its dependencies.</p>
<h2><a class="anchor" id="building-windows"></a>
Building on Windows with Visual Studio</h2>
<dl class="section note"><dt>Note</dt><dd>You will need to have Visual Studio 2010 or above installed.</dd></dl>
<p>Open a command window at the project's root.</p>
<p>If you have multiple versions of Visual Studio installed, you must first specify the version you want to use: </p><pre class="fragment">set GYP_MSVS_VERSION=2012
</pre><p>Use GYP to generate a solution: </p><pre class="fragment">tools\gyp\gyp --depth utf8rewind.gyp
</pre><p>Open the solution in Visual Studio. You can use the different build configurations to generate a static library.</p>
<h2><a class="anchor" id="building-linux"></a>
Building on Linux with GCC</h2>
<p>Open a shell and navigate to the project's root.</p>
<p>Ensure you have all dependencies installed using your preferred package manager: </p><pre class="fragment">sudo apt-get install gcc g++ gyp doxygen
</pre><p>Use GYP to generate a Makefile: </p><pre class="fragment">gyp --depth=. utf8rewind.gyp
</pre><p>Build the project using <code>make</code>: </p><pre class="fragment">make
</pre><p>For a release build, specify the build type: </p><pre class="fragment">make BUILDTYPE=Release
</pre><dl class="section note"><dt>Note</dt><dd>The generated Makefile does not contain a "clean" target. In order to do a full rebuild, you must delete the files in the "output" directory manually.</dd></dl>
<h2><a class="anchor" id="building-mac"></a>
Building on Mac OS X with XCode</h2>
<p>Open a command window at the project's root.</p>
<p>Use GYP to generate a solution: </p><pre class="fragment">tools\gyp\gyp --depth utf8rewind.gyp
</pre><p>Open the solution in XCode and you can build the library and tests.</p>
<h2><a class="anchor" id="running-tests"></a>
Running the tests</h2>
<p>After generating a solution, build and run the "tests-rewind" project. Verify that all tests pass on your system configuration before continuing.</p>
<h1><a class="anchor" id="helping-out"></a>
Helping out</h1>
<p>As a user, you can help the project in a number of ways, in order of difficulty:</p>
<p><b>Use it</b> - By using the library, you are helping the project spread. It is very important to us to have the project be used by as many different projects as possible. This will allow us to create better public interfaces.</p>
<p><b>Spread the word</b> - If you find <code>utf8rewind</code> useful, recommend it to your friends or coworkers.</p>
<p><b>Complain</b> - No library is perfect and <code>utf8rewind</code> is no exception. If you find a fault but lack the means (time, resources, etc.) to fix it, sending complaints to the proper channels can help the project out a lot.</p>
<p><b>Write a failing test</b> - If a feature is not working as intended, you can prove it by writing a failing test. By sending the test to us, we can make the adjustments necessary for it to pass.</p>
<p><b>Write a patch</b> - Patches include a code change that help tests to pass. A patch must always include a set of tests that fail to pass without the patch. All patches will be reviewed and possibly cleaned up before being accepted.</p>
<h1><a class="anchor" id="contact"></a>
Contact</h1>
<p>For inquiries, complaints and patches, please contact <code>{quinten}{lansu} {at} {gmail}.{com}</code>. Remove the brackets to get a valid e-mail address. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
